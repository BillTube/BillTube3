/* --- BTFW Foundational Fix --- */
/* Force the main container to fill the viewport height */
html, body, #wrap {
  height: 100%;
  overflow: hidden;
}
/* Adjust for CyTube's top navbar (usually around 52px high) */
#main {
  height: calc(100% - 52px);
}

/* --- Main 2-Column Grid --- */
#btfw-grid {
  display: grid;
  grid-template-columns: 1fr 380px; /* Video area is flexible, chat is fixed */
  gap: 12px;
  height: 100%;
  padding: 12px;
  box-sizing: border-box;
}

#btfw-leftpad, #btfw-chatcol {
  height: 100%;
  display: flex;
  flex-direction: column;
  min-width: 0; /* Prevents flexbox overflow issues */
}

/* --- Left (Video) Column --- */
#btfw-leftpad #videowrap {
  width: 100% !important;
  max-width: 100% !important;
  flex-grow: 1; /* Make video player fill the available vertical space */
  margin-bottom: 0 !important;
}
#btfw-leftpad iframe,
#btfw-leftpad .embed-responsive {
  width: 100% !important;
  height: 100% !important;
}

/* --- Right (Chat) Column --- */
#chatwrap.btfw-chatwrap {
  display: flex;
  flex-direction: column;
  height: 100%;
  background: rgba(20, 20, 26, 0.85);
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.06);
  overflow: hidden;
}
#messagebuffer.btfw-messagebuffer {
  flex: 1 1 auto; /* This makes the message area grow and shrink */
  overflow-y: auto;
  width: 100% !important;
}
#chatwrap #userlist {
  display: none !important; /* Continue to hide default userlist for now */
}

/* --- Custom Chat Bars --- */
.btfw-chat-topbar, .btfw-chat-bottombar {
  padding: 8px 12px;
  background: rgba(10, 10, 12, 0.5); /* Slightly different bg to stand out */
  flex-shrink: 0; /* Prevent bars from shrinking */
}
.btfw-chat-topbar {
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}
.btfw-chat-title {
  font-weight: 700;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.btfw-chat-actions {
  display: flex;
  gap: 8px;
}
.btfw-controls-row {
  margin-top: 8px;
  padding: 0 12px 12px 12px;
}
#chatline {
  width: 100%;
}

/* --- Buttons --- */
.btfw-chatbtn, .btfw-topbtn, .btfw-ghost, #emotelistbtn {
  border: 0;
  padding: 8px 10px;
  border-radius: 8px;
  cursor: pointer;
  background: rgba(255, 255, 255, 0.08);
  color: #e7e7ea;
}
.btfw-chatbtn:hover, .btfw-topbtn:hover, #emotelistbtn:hover {
  background: rgba(255, 255, 255, 0.16);
}
.gif-badge {
  font-weight: 800;
  font-size: 12px;
}

/* Avatars */
.btfw-chat-avatar{ width:28px; height:28px; border-radius:6px; margin-right:6px; vertical-align:middle; border:1px solid rgba(255,255,255,.06); }