/* --- grid & sticky chat --- */
#btfw-grid{
  display:grid;
  grid-template-columns: minmax(600px, var(--btfw-leftpx, 1fr)) 6px minmax(320px, 1fr);
  gap:0;
}
#btfw-leftpad{ margin-top: calc(var(--btfw-top, 48px) + 8px); }
#btfw-chatcol{
  position: sticky;
  top: var(--btfw-top, 48px);
  height: calc(100vh - var(--btfw-top, 48px) - 12px);
  display: flex; flex-direction: column;
  min-width: 320px;
}

/* --- make chat full width & flex --- */
#chatwrap.btfw-chatwrap{
  display: flex; flex-direction: column;
  width: 100% !important; max-width: 100% !important;
}
#messagebuffer.btfw-messagebuffer{
  flex: 1 1 auto; overflow: auto; width: 100%;
  min-height: 0;
}

/* --- visible chat bars --- */
.btfw-chat-topbar,.btfw-chat-bottombar{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 10px; border-radius:10px;
  background: var(--btfw-surface);
  margin-bottom:8px; border:1px solid var(--btfw-border);
  color: var(--btfw-text);
}
.btfw-chat-title{ font-weight:700; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.btfw-chat-actions{ display:flex; gap:8px; }
.btfw-chatbtn,.btfw-topbtn,.btfw-ghost{
  border:0; padding:8px 10px; border-radius:8px; cursor:pointer;
  background:var(--btfw-surface); color:var(--btfw-text); border:1px solid var(--btfw-border);
}
.btfw-ghost{ background:transparent; }
.btfw-chatbtn:hover,.btfw-topbtn:hover{ background:var(--btfw-surface-2); }
.btfw-controls-row{ margin-top:8px; width:100%; }

/* --- user list overlay --- */
#userlist.btfw-userlist-overlay{
  position:absolute; right:12px; top:60px; bottom:140px; width:300px;
  background:rgba(18,18,22,.95); border-radius:12px; overflow:auto;
  box-shadow:0 10px 30px rgba(0,0,0,.45); display:none; z-index:50; color:#e7e7ea;
}
#userlist.btfw-userlist-overlay.btfw-userlist-overlay--open{ display:block; }
#chatwrap #userlist:not(.btfw-userlist-overlay){ display:none !important; }

/* --- avatars --- */
.btfw-chat-avatar{ width:28px; height:28px; border-radius:6px; margin-right:6px; vertical-align:middle; border:1px solid var(--btfw-border); }

/* --- splitter look --- */
#btfw-vsplit{ cursor: col-resize; background: rgba(255,255,255,.06); position:relative; z-index:2; }
#btfw-vsplit::after{ content:""; position:absolute; inset:0; border-left:2px solid rgba(255,255,255,.18); pointer-events:none; }

/* --- neutralize Bootstrap floats inside left pads --- */
#btfw-leftpad [class*="col-"], #btfw-leftpad .row, #btfw-leftpad .container, #btfw-leftpad .container-fluid{
  width:100% !important; max-width:100% !important; float:none !important;
}
#videowrap, #playlistrow, #playlistwrap, #queuecontainer, #queue, #plmeta{
  width:100% !important; max-width:100% !important; float:none !important; display:block !important;
}
